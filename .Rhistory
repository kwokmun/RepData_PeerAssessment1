?plot
plot(with(dat,Global_active_power), type = )
plot(with(dat,Global_active_power), type = "h")
?plot
plot(x = with(dat,Global_active_power), type = "h")
?plot
?type
max(dat$Global_active_power)
hist(with(dat,Global_active_power), col = "red", breaks = 7.482)
hist(with(dat,Global_active_power), col = "red", breaks = 7.482*2)
hist(with(dat,Global_active_power), col = "red", breaks = 7.482*2, main = "Global Active Power")
hist(with(dat,Global_active_power), col = "red", breaks = 7.482*2, main = "Global Active Power", xlab = "Global Active Power (kilowatts)")
str(data)
?read.table
test <- read.table("household_power_consumption.txt", sep = ";", header = TRUE, na.strings = "?",
colClasses = c("character","character","numeric","numeric","numeric","numeric","numeric","numeric","numeric"))
str(test)
test$datetime <- dmy_hms(paste(data$Date,data$Time))
test$datetime <- dmy_hms(paste(test$Date,test$Time))
str(test)
?png
source("plot1.R")
source("plot1.R")
source("plot1.R")
?line
?plot
plot(wday(data$datetime), data$Global_active_power, type = "l")
?wday
plot(data$datetime, data$Global_active_power, type = "l")
plot(data$datetime, data$Global_active_power, type = "l", xlab = "", ylab = "Global Active Power (kilowatts)")
source("plot2.R")
?plot
plot(data$datetime, y = c(data$Sub_metering_1,data$Sub_metering_2,data$Sub_metering_3), type = "l", xlab = "", ylab = "Energy sub metering")
plot(data$datetime, y = data$Sub_metering_1, type = "l", xlab = "", ylab = "Energy sub metering", col = "black")
plot(data$datetime, y = data$Sub_metering_2, type = "l", xlab = "", ylab = "Energy sub metering", col = "red")
plot(data$datetime, y = data$Sub_metering_1, type = "l", xlab = "", ylab = "Energy sub metering", col = "black")
lines(data$datetime, y = data$Sub_metering_2, col = "red")
lines(data$datetime, y = data$Sub_metering_3, col = "blue")
?legend
legend("topright", col = c("black","red","blue"), legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"))
?legend
legend("topright", col = c("black","red","blue"), legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"), lty = c(1,1))
legend("topright", col = c("black","red","blue"), legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"), lty = c(1,1), lwd = c(2,2))
legend("topright", col = c("black","red","blue"), legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"), lty = c(1,1), lwd = c(1.5,1.5))
source("plot3.R")
?legend
?plot
par(mfcol(2,2))
par(mfcol = c(2,2))
plot(data$datetime, data$Global_active_power, type = "l", xlab = "", ylab = "Global Active Power")
plot(data$datetime, y = data$Sub_metering_1, type = "l", xlab = "", ylab = "Energy sub metering", col = "black")
lines(data$datetime, y = data$Sub_metering_2, col = "red")
lines(data$datetime, y = data$Sub_metering_3, col = "blue")
legend("topright", col = c("black","red","blue"), legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"), lty = c(1,1),
lwd = c(1.5,1.5), border = "white")
View(data)
plot(data$datetime, data$Voltage, type = "l", xlab = "datetime", ylab = "Voltage")
View(data)
plot(data$datetime, data$Global_reactive_power, type = "l", xlab = "datetime", ylab = "Global_reactive_power")
par("mar")
par("oma")
par(mar = c(5,4,2,2))
par(mfcol = c(2,2))
plot(data$datetime, data$Global_active_power, type = "l", xlab = "", ylab = "Global Active Power")
plot(data$datetime, y = data$Sub_metering_1, type = "l", xlab = "", ylab = "Energy sub metering", col = "black")
lines(data$datetime, y = data$Sub_metering_2, col = "red")
lines(data$datetime, y = data$Sub_metering_3, col = "blue")
legend("topright", col = c("black","red","blue"), legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"), lty = c(1,1),
lwd = c(1.5,1.5), border = "white")
?legend
legend("topright", col = c("black","red","blue"), legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"), lty = c(1,1),
lwd = c(1.5,1.5), border = "white", cex = 0.8)
legend("topright", col = c("black","red","blue"), legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"), lty = c(1,1),
lwd = c(1.5,1.5), border = "white", cex = 0.7)
?legend
par(mar = c(5,4,2,2))
par(mfcol = c(2,2))
plot(data$datetime, data$Global_active_power, type = "l", xlab = "", ylab = "Global Active Power")
plot(data$datetime, y = data$Sub_metering_1, type = "l", xlab = "", ylab = "Energy sub metering", col = "black")
lines(data$datetime, y = data$Sub_metering_2, col = "red")
lines(data$datetime, y = data$Sub_metering_3, col = "blue")
legend("topright", col = c("black","red","blue"), legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"), lty = c(1,1),
lwd = c(1.5,1.5), bty = "n", cex = 0.7)
plot(data$datetime, data$Voltage, type = "l", xlab = "datetime", ylab = "Voltage")
plot(data$datetime, data$Global_reactive_power, type = "l", xlab = "datetime", ylab = "Global_reactive_power")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
dev.cur()
png(filename = "plot4.png")
dev.cur()
par(mar = c(5,4,2,2))
par(oma = c(0,1,1,1))
plot(data$datetime, data$Global_active_power, type = "l", xlab = "", ylab = "Global Active Power")
plot(data$datetime, y = data$Sub_metering_1, type = "l", xlab = "", ylab = "Energy sub metering", col = "black")
lines(data$datetime, y = data$Sub_metering_2, col = "red")
lines(data$datetime, y = data$Sub_metering_3, col = "blue")
legend("topright", col = c("black","red","blue"), legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"), lty = c(1,1),
lwd = c(1.5,1.5), bty = "n", cex = 0.7)
plot(data$datetime, data$Voltage, type = "l", xlab = "datetime", ylab = "Voltage")
plot(data$datetime, data$Global_reactive_power, type = "l", xlab = "datetime", ylab = "Global_reactive_power")
dev.off()
par(mar = c(5,4,2,2))
par(oma = c(0,1,1,1))
plot(data$datetime, data$Global_active_power, type = "l", xlab = "", ylab = "Global Active Power")
dev.list()
library(lubridate)
data <- read.table("household_power_consumption.txt", sep = ";", header = TRUE, na.strings = "?",
colClasses = c("character","character","numeric","numeric","numeric","numeric","numeric","numeric","numeric"))
data$datetime <- dmy_hms(paste(data$Date,data$Time))
data <- data[data$Date %in% c("1/2/2007","2/2/2007"),]
par(mar = c(5,4,2,2))
par(oma = c(0,1,1,1))
plot(data$datetime, data$Global_active_power, type = "l", xlab = "", ylab = "Global Active Power")
plot(data$datetime, y = data$Sub_metering_1, type = "l", xlab = "", ylab = "Energy sub metering", col = "black")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
source("plot4.R")
getwd()
file <- download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",method = "curl")
?download.file
file <- download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "getwd()", method = "curl")
file <- download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "pmfile.zip", method = "curl")
unzip(file)
unzip("pmfile.zip")
source("plot1.R")
View(nei)
View(scc)
head(nei)
View(nei)
head(scc)
library(dplyr)
?left_join
?group_by
?summarise
summarise(group_by(nei,year), sum(Emissions))
summarise(group_by(nei,year), total = sum(Emissions))
summarise(group_by(nei,year), emission = sum(Emissions))
source("plot3.R")
data
base <- ggplot(data, aes(x = year, y = emission))
base + geom_line() + facet_grid(type ~ ., scales = "free_y")
base <- ggplot(data, aes(x = factor(year), y = emission))
base + geom_line() + facet_grid(type ~ ., scales = "free_y")
base <- ggplot(data, aes(x = year, y = emission))
base + geom_line() + facet_grid(type ~ ., scales = "free_y")
?geom_line
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_discrete("year")
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_discrete("data$year")
base + geom_bar() + facet_grid(type ~ ., scales = "free_y")
base + geom_bar(stat = "identity") + facet_grid(type ~ ., scales = "free_y")
base + geom_bar(stat = "identity") + facet_grid(type ~ ., scales = "free_y") + scale_x_discrete(labels = c("1999", "2002", "2005", "2008"))
str(data)
base <- ggplot(data, aes(x = factor(year), y = emission))
base + geom_bar(stat = "identity") + facet_grid(type ~ ., scales = "free_y") + scale_x_discrete(labels = c("1999", "2002", "2005", "2008"))
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_discrete(labels = c("1999", "2002", "2005", "2008"))
base <- ggplot(data, aes(x = year, y = emission))
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_discrete(labels = c("1999", "2002", "2005", "2008"))
base <- ggplot(data, aes(x = year, y = emission, group = 1))
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_discrete(labels = c("1999", "2002", "2005", "2008"))
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_discrete(breaks = c("1999", "2002", "2005", "2008"))
base + geom_line() + facet_grid(type ~ ., scales = "free_y")
base <- ggplot(data, aes(x = factor(year), y = emission))
base + geom_bar(stat = "identity") + facet_grid(type ~ ., scales = "free_y")
base + geom_line() + facet_grid(type ~ ., scales = "free_y")
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_continuous(breaks = c("1999", "2002", "2005", "2008"))
base <- ggplot(data, aes(x = year, y = emission))
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_continuous(breaks = c("1999", "2002", "2005", "2008"))
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_continuous(breaks = c(1999, 2002, 2005, 2008))
source("plot3.R")
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_continuous(breaks = c(1999, 2002, 2005, 2008))
head(scc)
summarise_each(scc)
?summarise_each
?summarise_each(scc,funs(length))
summarise_each(scc,funs(length))
table(scc$Short.Name)
head(scc,20)
names(scc)
unique(scc$EI.Sector)
?grep
grep("^Fuel Comb", scc$EI.Sector, ignore.case = TRUE)
unique(grep("^Fuel Comb", scc$EI.Sector, ignore.case = TRUE, value = TRUE))
unique(grep("^Fuel Comb.+coal$", scc$EI.Sector, ignore.case = TRUE, value = TRUE))
head(nei)
head(scc)
head(nei)
head(scc$EI.Sector)
names(scc)
?left_join
data <- left_join(nei,scc[,4], by = SCC)
data <- left_join(nei,scc[,4], by = "SCC")
head(scc[,4])
data <- left_join(nei,scc[,c(1,4)], by = "SCC")
head(data)
head(data)
head(data[grep("^Fuel Comb.+coal$", data$EI.Sector, ignore.case = TRUE),])
data <- data[grep("^Fuel Comb.+coal$", data$EI.Sector, ignore.case = TRUE),]
tolower(names(data))
summarised.data <- summarise(group_by(data,year), emission = sum(emissions))
names(data) <- tolower(names(data))
summarised.data <- summarise(group_by(data,year), emission = sum(emissions))
summarised.data
ggplot(summarised.data,aes(factor(year),emissions)) + geom_bar()
ggplot(summarised.data,aes(factor(year),emission)) + geom_bar()
ggplot(summarised.data,aes(factor(year),emission)) + geom_bar(stat = "identity")
ggplot(summarised.data,aes(factor(year),emission)) + geom_bar(stat = "identity") + xlab("year")
base <- ggplot(summarised.data,aes(factor(year),emission))
base + geom_bar(stat = "identity") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + xlab("year") + ylab("emission (tons)") + ggtitle("Emissions from coal combustion-related sources")
base <- ggplot(summarised.data,aes(factor(year),emission/1000))
base + geom_bar(stat = "identity") + xlab("year") + ylab("emission (thousand tons)") + ggtitle("Emissions from coal combustion-related sources")
library(dplyr)
library(ggplot2)
nei <- readRDS("summarySCC_PM25.rds")
scc <- readRDS("Source_Classification_Code.rds")
data <- left_join(nei,scc[,c(1,4)], by = "SCC")
baltimore.nei <- filter(nei, fips == "24510")
data <- left_join(baltimore.nei,scc[,c(1,4)], by = "SCC")
head(data)
unique(data$EI.Sector)
data <- data[grep("^Mobile.+Vehicles$", data$EI.Sector, ignore.case = TRUE),]
names(data) <- tolower(names(data))
summarised.data <- summarise(group_by(data,year), emission = sum(emissions))
head(summarised.data)
unique(data$ei.sector)
data <- left_join(baltimore.nei,scc[,c(1,4)], by = "SCC")
unique(data$ei.sector)
names(data) <- tolower(names(data))
unique(data$ei.sector)
test <- data[grep("^Mobile.+Vehicles$", data$EI.Sector, ignore.case = TRUE),]
unique(test$ei.sector)
unique(data$ei.sector)
test <- data[grep("^Mobile.+Vehicles$", data$ei.sector, ignore.case = TRUE),]
unique(test$ei.sector)
length(unique(test$ei.sector))
data <- left_join(baltimore.nei,scc[,c(1,4)], by = "SCC")
data <- data[grep("^Mobile.+Vehicles$", data$EI.Sector, ignore.case = TRUE),]
names(data) <- tolower(names(data))
unique(data$ei.sector)
summarised.data <- summarise(group_by(data,year), emission = sum(emissions))
head(summarised.data)
base <- ggplot(summarised.data,aes(factor(year),emission))
base + geom_bar(stat = "identity") + xlab("year") + ylab("emission (tons)")
+ ggtitle("Emissions from motor vehicle sources in Baltimore")
la.nei <- filter(nei, fips == "06037")
baltimore.data <- left_join(baltimore.nei,scc[,c(1,4)], by = "SCC")
la.data <- left_join(la.nei,scc[,c(1,4)], by = "SCC")
baltimore.data <- baltimore.data[grep("^Mobile.+Vehicles$", data$EI.Sector, ignore.case = TRUE),]
la.data <- la.data[grep("^Mobile.+Vehicles$", data$EI.Sector, ignore.case = TRUE),]
source("plot6.R")
rm(baltimore.data)
rm(baltimore.nei)
rm(la.nei)
rm(la.data)
baltimore.nei <- filter(nei, fips == "24510")
la.nei <- filter(nei, fips == "06037")
baltimore.data <- left_join(baltimore.nei,scc[,c(1,4)], by = "SCC")
la.data <- left_join(la.nei,scc[,c(1,4)], by = "SCC")
head(la.data)
baltimore.data <- baltimore.data[grep("^Mobile.+Vehicles$", baltimore.data$EI.Sector, ignore.case = TRUE),]
la.data <- la.data[grep("^Mobile.+Vehicles$", la.data$EI.Sector, ignore.case = TRUE),]
names(baltimore.data) <- tolower(names(baltimore.data))
names(la.data) <- tolower(names(la.data))
summarised.baltimore.data <- summarise(group_by(baltimore.data,year), emission = sum(emissions))
summarised.la.data <- summarise(group_by(la.data,year), emission = sum(emissions))
baltimore.base <- ggplot(summarised.baltimore.data,aes(factor(year),emission))
la.base <- ggplot(summarised.la.data,aes(factor(year),emission))
baltimore.base + geom_bar(stat = "identity") + xlab("year") + ylab("emission (tons)")
+ ggtitle("Emissions from motor vehicle sources in Baltimore")
la.base + geom_bar(stat = "identity") + xlab("year") + ylab("emission (tons)")
+ ggtitle("Emissions from motor vehicle sources in Los Angeles")
library(dplyr)
library(ggplot2)
nei <- readRDS("summarySCC_PM25.rds")
scc <- readRDS("Source_Classification_Code.rds")
city.nei <- filter(nei, fips == c("24510","06037"))
city.data <- left_join(city.nei,scc[,c(1,4)], by = "SCC")
city.data <- city.data[grep("^Mobile.+Vehicles$", city.data$EI.Sector, ignore.case = TRUE),]
names(city.data) <- tolower(names(city.data))
head(city.data)
unique(city.data$ei.sector)
>mutate
?mutate
?ifelse
mutate(city.data, city = ifelse(fips == "24510", "Baltimore","Los Angeles"))
city.data <- mutate(city.data, city = ifelse(fips == "24510", "Baltimore","Los Angeles"))
head(city.data)
str(city)
str(city.data$city)
city.data$city <- factor(city.data$city)
str(city.data)
summarised.city.data <- summarise(group_by(city.data, year, city), emission = sum(emissions))
base <- ggplot(summarised.city.data,aes(factor(year),emission))
base + geom_bar(stat = "identity") + xlab("year") + ylab("emission (tons)")
+ facet_grid(. ~ city)
base + geom_bar(stat = "identity") + facet_grid(. ~ city) + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity", fill = city) + facet_grid(. ~ city) + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_grid(. ~ city) + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_grid(. ~ city, scales = "free_y") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_grid(. ~ city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_grid(city ~ ., scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_grid(. ~ city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_wrap(. ~ city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_wrap(city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_wrap(~city) + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_point() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base <- ggplot(city.data,aes(factor(year),emission))
base + geom_bar(stat = "identity") + xlab("year") + ylab("emission (tons)")
+ facet_grid(. ~ city)
base + geom_point() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
head(city.data)
base <- ggplot(city.data,aes(factor(year),emissions))
base + geom_point() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_boxplot() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_point() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_point() + geom_smooth() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_point() + facet_wrap(~city, scales = "free") + geom_smooth() + xlab("year") + ylab("emission (tons)")
base + geom_point() + geom_smooth() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_point() + geom_smooth(aes(group = 1)) + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_point() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_boxplot() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_boxplot() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)") + xlim(c(0,200))
base + geom_boxplot() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)") + ylim(c(0,200))
base + geom_boxplot() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)") + ylim(c(0,50))
base + geom_boxplot() + facet_grid(city~., scales = "free") + xlab("year") + ylab("emission (tons)") + ylim(c(0,50))
base + geom_boxplot() + facet_grid(city~., scales = "free") + xlab("year") + ylab("emission (tons)") + ylim(c(0,15))
base <- ggplot(summarised.city.data,aes(factor(year),emission))
base + geom_bar(stat = "identity") + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + geom_smooth() + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + geom_smooth(aes(group = `)) + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + geom_smooth(aes(group = `)) + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")v)
base + geom_bar(stat = "identity") + geom_smooth(aes(group = 1)) + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
head(city.data)
head(summarised.city.data)
select(summarised.city.data,year == "1999")
filter(select(summarised.city.data,year), year == "1999")
filter(select(summarised.city.data,emission), year == "1999")
filter(select(summarised.city.data,emission), year == "1999" & city == "Baltimore")
filter(select(summarised.city.data,c(emission,city)), year == "1999" & city == "Baltimore")
summarised.city.data[year == "1999" & city == "Baltimore","emission"]
summarised.city.data[year == "1999" & city == "Baltimore",c("emission")]
summarised.city.data[summarised.city.data$year == "1999" & summarised.city.data$city == "Baltimore",c("emission")]
with(summarised.city.data,summarised.city.data[year == "1999" & city == "Baltimore",c("emission")])
with(summarised.city.data,summarised.city.data[year == "1999" & city == "Baltimore",emission])
with(summarised.city.data,summarised.city.data[year == "1999" & city == "Baltimore",c("emission")])
unlist(with(summarised.city.data,summarised.city.data[year == "1999" & city == "Baltimore",c("emission")]))
baltimore_base <- unlist(with(summarised.city.data,summarised.city.data[year == "1999" & city == "Baltimore",c("emission")]))
class(baltimore_base)
baltimore.base <- unlist(with(summarised.city.data,summarised.city.data[year == "1999" & city == "Baltimore",c("emission")]))
rm(baltimore_base)
str(baltimore.base)
baltimore.base <- vector(with(summarised.city.data,summarised.city.data[year == "1999" & city == "Baltimore",c("emission")]))
baltimore.base <- numeric(with(summarised.city.data,summarised.city.data[year == "1999" & city == "Baltimore",c("emission")]))
summarised.city.data[emission]summarised.city.data[city == "Baltimore"]
summarised.city.data[emission][summarised.city.data[city] == "Baltimore"]
filter(summarised.city.data,city == "Baltimore")
select(filter(summarised.city.data,city == "Baltimore"),emission)
select(filter(summarised.city.data,city == "Baltimore" & year == "1999"),emission)
select(filter(summarised.city.data,city == "Baltimore" & year == "1999"),emission)[[1]]
select(filter(summarised.city.data,city == "Baltimore" & year == "1999"),emission)[[2]]
baltimore.base <- select(filter(summarised.city.data,city == "Baltimore" & year == "1999"),emission)[[2]]
baltimore.base <- select(filter(summarised.city.data,city == "Los Angeles" & year == "1999"),emission)[[2]]
baltimore.base <- select(filter(summarised.city.data,city == "Baltimore" & year == "1999"),emission)[[2]]
la.base <- select(filter(summarised.city.data,city == "Baltimore" & year == "1999"),emission)[[2]]
la.base <- select(filter(summarised.city.data,city == "Los Angeles" & year == "1999"),emission)[[2]]
mutate(summarised.city.data,normalised.emission = ifelse(city == "Los Angeles",la.base,baltimore.base))
mutate(summarised.city.data,normalised.emission = ifelse(city == "Los Angeles",emission/la.base,emission/baltimore.base))
summarised.city.data <- mutate(summarised.city.data,normalised.emission = ifelse(city == "Los Angeles",emission/la.base,emission/baltimore.base))
base <- ggplot(summarised.city.data,aes(factor(year),normalised.emission))
base + geom_bar(stat = "identity") + facet_wrap(~city, scales = "free") + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + facet_grid(. ~ city) + xlab("year") + ylab("emission (tons)")
?geom_hline
base + geom_bar(stat = "identity") + geom_hline(yintercept = 1) + facet_grid(. ~ city) + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + geom_hline(yintercept = 1, linetype = "long_dash") + facet_grid(. ~ city) + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + geom_hline(yintercept = 1, linetype = "longdash", colour = "red") + facet_grid(. ~ city) + xlab("year") + ylab("emission (tons)")
base + geom_bar(stat = "identity") + geom_hline(yintercept = 1, linetype = "longdash", colour = "red") + facet_grid(. ~ city) + xlab("year") + ylab("normalised emission (base = 1999)")
base + geom_bar(stat = "identity") + geom_hline(yintercept = 1, linetype = "longdash", colour = "red") + facet_grid(. ~ city) + xlab("year") + ylab("normalised emission (base = 1999)") + ggtitle("Emissions from motor vehicles as compared to 1999")
?png
source("plot6.R")
View(summarised.city.data)
source("plot6.R")
base + geom_bar(stat = "identity")
+ geom_hline(yintercept = 1, linetype = "longdash", colour = "red") + facet_grid(. ~ city)
+ xlab("year") + ylab("normalised emission (base = 1999)")
+ ggtitle("Emissions from motor vehicles as compared to 1999")
base + geom_bar(stat = "identity") + geom_hline(yintercept = 1, linetype = "longdash", colour = "red") + facet_grid(. ~ city) + xlab("year") + ylab("normalised emission (base = 1999)") + ggtitle("Emissions from motor vehicles as compared to 1999")
base <- ggplot(summarised.city.data,aes(factor(year),normalised.emission))
base + geom_bar(stat = "identity") + geom_hline(yintercept = 1, linetype = "longdash", colour = "red") + facet_grid(. ~ city) + xlab("year") + ylab("normalised emission (base = 1999)") + ggtitle("Emissions from motor vehicles as compared to 1999")
source("plot6.R")
source("plot5.R")
source("plot5.R")
source("plot4.R")
source("plot3.R")
base + geom_line() + facet_grid(type ~ ., scales = "free_y") + scale_x_continuous(breaks = c(1999, 2002, 2005, 2008)) + ggtitle("Emissions for Baltimore by type of source")
ggsave("plot3.png")
head(data)
head(baltimore.nei)
unique(baltimore.nei$Pollutant)
unique(nei$Pollutant)
source("plot2.R")
source("plot2.R")
source("plot1.R")
png("plot1.png")
barplot(data$emission,names.arg = data$year, ylim = c(0,8), xlab = "Year", ylab = "PM2.5 Emissions (in million tons)", main = "Total emissions from PM2.5 in the United States")
dev.off()
library(swirl)
swirl()
install.packages(c("base64enc", "cluster", "codetools", "crayon", "curl", "foreign", "httpuv", "lattice", "manipulate", "MASS", "mgcv", "nlme", "R6", "Rcpp", "rJava", "RMySQL", "scales"))
swirl()
library(swirl)
swirl()
View(dataFrame)
dist(dataFrame)
distxy
hc <- hclust(distxy)
plot(hc)
hc
plot(as.dendrogram(hc))
abline(h = 1.5, col = "blue")
abline(h = 0.4, col = "red")
5
12
abline(h = 0.05, col = "green")
dist(dFsm)
hc
heatmap(dataMatrix, col = cm.colors(25))
dataMatrix
heatmap(mt)
mt
plot(denmt)
denmt
distmt
getwd()
setwd("/Users/kwokmun/RepData_PeerAssessment1")
data <- read.csv("activity.csv")
head(data)
str(data)
?read.csv
data <- read.csv("activity.csv", stringsAsFactors = FALSE, colCLasses = c("integer","Date","integer"))
data <- read.csv("activity.csv", stringsAsFactors = FALSE, colClasses = c("integer","Date","integer"))
str(data)
data[6000:6500,]
str(data)
library(dplyr)
?summarise
summarise(group_by(data,date), total = sum(steps))
summarise(group_by(data,date), total = sum(steps), na.rm = TRUE)
summarise(group_by(data,date), total = sum(steps, na.rm = TRUE))
total_steps_per_day <- summarise(group_by(data,date), total = sum(steps, na.rm = TRUE))
total_steps_per_day
table(total_steps_per_day$total)
hist(total_steps_per_day$total)
library(ggplot2)
library(ggplot)
library(ggplot2)
library(ggplot2)
g <- ggplot(data = data, aes(x = total_steps_per_day$total))
g + geom_histogram()
g + geom_histogram(binwidth = 5000)
g + geom_histogram(binwidth = 1000)
g + geom_histogram(binwidth = 5000)
g + geom_histogram(binwidth = 2500)
g + geom_histogram(binwidth = 2000)
total_steps_per_day <- summarise(group_by(data,date), total.steps = sum(steps, na.rm = TRUE))
g <- ggplot(data = data, aes(x = total_steps_per_day$total.steps))
g + geom_histogram(binwidth = 2000)
g + geom_histogram(binwidth = 2000) + ggtitle("Distribution of total number of steps taken per day")
g + geom_histogram(binwidth = 2000) + ggtitle("Distribution of total number of steps taken per day") + xlab("Steps taken per day")
summary(total_steps_per_day$total.steps)
head(data)
avg_steps_by_interval <- summarise(group_by(data,interval), avg.steps = mean(steps, na.rm = TRUE))
head(avg_steps_by_interval)
g <- ggplot(data = total_steps_per_day, aes(x = total))
g + geom_histogram(binwidth = 2000) + ggtitle("Distribution of total number of steps taken per day") + xlab("Steps taken per day")
View(total_steps_per_day)
g <- ggplot(data = total_steps_per_day, aes(x = total.steps))
g + geom_histogram(binwidth = 2000) + ggtitle("Distribution of total number of steps taken per day") + xlab("Steps taken per day")
ggplot(data = avg_steps_by_interval, aes(x = interval, y = avg.steps)) + geom_line()
ggplot(data = avg_steps_by_interval, aes(x = interval, y = avg.steps)) + geom_line() + scale_x_continuous(breaks = 2400)
ggplot(data = avg_steps_by_interval, aes(x = interval, y = avg.steps)) + geom_line() + scale_x_continuous(breaks = 2400, by = 10)
View(avg_steps_by_interval)
head(data)
